<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Random Image Display</title>
</head>
<body>
    <h1>Random Image Display</h1>
    <img id="randomImage" alt="Random Image" style="max-width:100%; max-height:100vh;">
    <script>
        // Array of image file names in the 'bilder_automation' folder within 'assets/images'
        const bilder_automation = ['werkschau1.png', 'werkschau2.png', 'werkschau3.png']; // Add all your image file names here

        function getRandomImage() {
            const randomIndex = Math.floor(Math.random() * bilder_automation.length);
            return `assets/images/bilder_automation/${bilder_automation[randomIndex]}`;
        }

        function downloadImage(url, filename) {
            fetch(url)
                .then(response => response.blob())
                .then(blob => {
                    const a = document.createElement('a');
                    a.href = URL.createObjectURL(blob);
                    a.download = filename;
                    document.body.appendChild(a);
                    a.click();
                    document.body.removeChild(a);
                })
                .catch(console.error);
        }

        function displayRandomImage() {
            const randomImage = getRandomImage();
            const imgElement = document.getElementById('randomImage');
            imgElement.src = randomImage;

            // Wait for the image to load before downloading it
            imgElement.onload = () => {
                downloadImage(randomImage, 'werkschauAUTOMATION.png');
            };

            // Schedule the next image display after 2 minutes (120,000 milliseconds)
            setTimeout(displayRandomImage, 120000);
        }

        // Initial call to display the first random image
        displayRandomImage();
    </script>
</body>
</html>
